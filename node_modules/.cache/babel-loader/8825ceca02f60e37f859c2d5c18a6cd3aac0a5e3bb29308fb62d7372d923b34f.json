{"ast":null,"code":"import { createStore } from \"redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nconst ADD_TODO = \"ADD_TODO\";\nconst DELETE_TODO = \"DELETE_TODO\";\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst ul = document.querySelector(\"ul\");\nconst addToDo = text => {\n  store.dispatch({\n    type: ADD_TODO,\n    text\n  });\n};\nconst deleteToDo = e => {\n  const id = e.target.parentNode.id;\n  store.dispatch({\n    type: DELETE_TODO,\n    id\n  });\n};\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_TODO:\n      return [...state, {\n        text: action.text,\n        id: uuidv4()\n      }];\n    case DELETE_TODO:\n      return state.filter(item => item.id !== action.id);\n    default:\n      return state;\n  }\n};\nconst store = createStore(reducer);\nconst paintToDos = () => {\n  const toDos = store.getState();\n  ul.innerHTML = \"\";\n  toDos.forEach(toDo => {\n    const li = document.createElement(\"li\");\n    const btn = document.createElement(\"button\");\n    btn.innerText = \"DEL\";\n    btn.addEventListener(\"click\", deleteToDo);\n    li.id = toDo.id;\n    li.innerText = toDo.text;\n    li.appendChild(btn);\n    ul.appendChild(li);\n  });\n};\nstore.subscribe(paintToDos);\nconst onSubmit = e => {\n  e.preventDefault();\n  const toDo = input.value;\n  input.value = \"\";\n  addToDo(toDo);\n};\nform.addEventListener(\"submit\", onSubmit);","map":{"version":3,"names":["createStore","v4","uuidv4","ADD_TODO","DELETE_TODO","form","document","querySelector","input","ul","addToDo","text","store","dispatch","type","deleteToDo","e","id","target","parentNode","reducer","state","action","filter","item","paintToDos","toDos","getState","innerHTML","forEach","toDo","li","createElement","btn","innerText","addEventListener","appendChild","subscribe","onSubmit","preventDefault","value"],"sources":["/Users/dohyunkim/Desktop/Github/learning-redux/src/index.js"],"sourcesContent":["import { createStore } from \"redux\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst ADD_TODO = \"ADD_TODO\";\nconst DELETE_TODO = \"DELETE_TODO\";\n\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst ul = document.querySelector(\"ul\");\n\nconst addToDo = (text) => {\n  store.dispatch({ type: ADD_TODO, text });\n};\n\nconst deleteToDo = (e) => {\n  const id = e.target.parentNode.id;\n  store.dispatch({ type: DELETE_TODO, id });\n};\n\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case ADD_TODO:\n      return [...state, { text: action.text, id: uuidv4() }];\n    case DELETE_TODO:\n      return state.filter((item) => item.id !== action.id);\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nconst paintToDos = () => {\n  const toDos = store.getState();\n  ul.innerHTML = \"\";\n  toDos.forEach((toDo) => {\n    const li = document.createElement(\"li\");\n    const btn = document.createElement(\"button\");\n    btn.innerText = \"DEL\";\n    btn.addEventListener(\"click\", deleteToDo);\n    li.id = toDo.id;\n    li.innerText = toDo.text;\n    li.appendChild(btn);\n    ul.appendChild(li);\n  });\n};\n\nstore.subscribe(paintToDos);\n\nconst onSubmit = (e) => {\n  e.preventDefault();\n  const toDo = input.value;\n  input.value = \"\";\n  addToDo(toDo);\n};\n\nform.addEventListener(\"submit\", onSubmit);\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AAEnC,MAAMC,QAAQ,GAAG,UAAU;AAC3B,MAAMC,WAAW,GAAG,aAAa;AAEjC,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;AAC3C,MAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;AAC7C,MAAME,EAAE,GAAGH,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;AAEvC,MAAMG,OAAO,GAAIC,IAAI,IAAK;EACxBC,KAAK,CAACC,QAAQ,CAAC;IAAEC,IAAI,EAAEX,QAAQ;IAAEQ;EAAK,CAAC,CAAC;AAC1C,CAAC;AAED,MAAMI,UAAU,GAAIC,CAAC,IAAK;EACxB,MAAMC,EAAE,GAAGD,CAAC,CAACE,MAAM,CAACC,UAAU,CAACF,EAAE;EACjCL,KAAK,CAACC,QAAQ,CAAC;IAAEC,IAAI,EAAEV,WAAW;IAAEa;EAAG,CAAC,CAAC;AAC3C,CAAC;AAED,MAAMG,OAAO,GAAG,YAAwB;EAAA,IAAvBC,KAAK,uEAAG,EAAE;EAAA,IAAEC,MAAM;EACjC,QAAQA,MAAM,CAACR,IAAI;IACjB,KAAKX,QAAQ;MACX,OAAO,CAAC,GAAGkB,KAAK,EAAE;QAAEV,IAAI,EAAEW,MAAM,CAACX,IAAI;QAAEM,EAAE,EAAEf,MAAM;MAAG,CAAC,CAAC;IACxD,KAAKE,WAAW;MACd,OAAOiB,KAAK,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKK,MAAM,CAACL,EAAE,CAAC;IACtD;MACE,OAAOI,KAAK;EAAC;AAEnB,CAAC;AAED,MAAMT,KAAK,GAAGZ,WAAW,CAACoB,OAAO,CAAC;AAElC,MAAMK,UAAU,GAAG,MAAM;EACvB,MAAMC,KAAK,GAAGd,KAAK,CAACe,QAAQ,EAAE;EAC9BlB,EAAE,CAACmB,SAAS,GAAG,EAAE;EACjBF,KAAK,CAACG,OAAO,CAAEC,IAAI,IAAK;IACtB,MAAMC,EAAE,GAAGzB,QAAQ,CAAC0B,aAAa,CAAC,IAAI,CAAC;IACvC,MAAMC,GAAG,GAAG3B,QAAQ,CAAC0B,aAAa,CAAC,QAAQ,CAAC;IAC5CC,GAAG,CAACC,SAAS,GAAG,KAAK;IACrBD,GAAG,CAACE,gBAAgB,CAAC,OAAO,EAAEpB,UAAU,CAAC;IACzCgB,EAAE,CAACd,EAAE,GAAGa,IAAI,CAACb,EAAE;IACfc,EAAE,CAACG,SAAS,GAAGJ,IAAI,CAACnB,IAAI;IACxBoB,EAAE,CAACK,WAAW,CAACH,GAAG,CAAC;IACnBxB,EAAE,CAAC2B,WAAW,CAACL,EAAE,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC;AAEDnB,KAAK,CAACyB,SAAS,CAACZ,UAAU,CAAC;AAE3B,MAAMa,QAAQ,GAAItB,CAAC,IAAK;EACtBA,CAAC,CAACuB,cAAc,EAAE;EAClB,MAAMT,IAAI,GAAGtB,KAAK,CAACgC,KAAK;EACxBhC,KAAK,CAACgC,KAAK,GAAG,EAAE;EAChB9B,OAAO,CAACoB,IAAI,CAAC;AACf,CAAC;AAEDzB,IAAI,CAAC8B,gBAAgB,CAAC,QAAQ,EAAEG,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}